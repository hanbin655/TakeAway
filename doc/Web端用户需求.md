#Web端用户需求

## 1.注册与登录功能

首页提供用户注册功能，为已注册的用户提供快速登录渠道，未注册的用户提供方便快捷的注册流程。

###1.1 一般注册流程
注册资料应该包括以下几点：  
1.  用户邮箱   
2.  用户姓名   
3.  用户手机号   
4.  密码  
5.  常用送餐地址  

用户填入信息后完成注册，直接进入点餐环节

###1.2一般用户登录流程
已注册的用户登陆界面要求简单快捷，只需要输入以下资料： 
1.  用户邮箱/手机号/其他社交平台账号  
2.  密码  

###1.3社交网络用户注册流程
当用户点击注册时，用户可选择使用社交网络账户经行登录。使用社交网络登录时需要提供以下信息：  
1.  用户选择社交网络平台   
2.  用户账户   
3.  密码   
注册后进入额外信息界面，可提供额外信息或者选择直接登录，额外信息可包括： 
1.  常用送餐地址    
2.  用户邮箱   
3.  用户手机号码  

##2.用户点餐区域模糊选取（有待商议）
网络客户单应该提供简单的用户区域模糊定位，例如提供搜索条模糊定位街区。然后提供地图作为回馈，让用户最终确认区域。
搜索应该可使用以下信息：  
1.  邮编(包括大城市各区邮编 例如北京朝阳区100029)    
2.  城市名称（包括各区名称 例如北京朝阳区） 
3.  住宅小区名称（例如 安苑X里小区）   
4.  标志性地址（包括建筑物 大学 地铁站 火车站等）  

###2.1额外功能
区域选择应该对已注册用户提供记忆功能，记录用户曾经使用过的地址方便用户选取。该功能应该设为可选，用户可自己选取是否记录，以保障个人信息的隐私性。

## 3. 点餐环节
模糊大区位置选择后，用户开始进入点餐环节。
### 3.1基本流程
1.  通过搜索或分类找到店铺列表
用户可以直接通过搜索外卖店名称找到外卖店，或者通过选取列表逐渐找到想吃的外卖店。分类为搜索的一个筛选过滤(服务器需提供搜索的api并返回结果)。客户端应该始终提供可选排序条件逐渐缩。可选排序的条件应该包括：   
（1） 用户好评度
（2） 速度  
（3）待讨论    

2.  在店铺菜单内可以选择菜品和数量（一个简单的模式是复选框加数字文本框）  
服务器接受一个订单表单post并在数据库生成订单
约束：  
    (1)一个订单内的所有菜品必须属于同一家店  
    (2)订单的金额数必须大于起送金额  
3.  选择送货地址
选取完菜品之后用户输入具体的送餐地址，对于老用户服务端应该提供以往的送餐地址作为备选地址，方便用户完成订餐。

4.  服务器确认订单成立
理想化来说，服务器应该承担订单确认的功能。确认的责任包括2个方面：  
（1）确认用户的信息是否有效（送餐地址是否真实，送餐电话是否有效）  
（2）确认订餐信息是否满足商家要求（送餐距离，最低起送金，菜品有无）  

5.  订单成立 
以某种方式通知店家外送，可选方式包括：  
（1）. 无线打印机自动下订单
（2）. 服务器帮助用户拨打订餐电话或发送短信
（3）. 用户自己拨打订餐电话(扯淡一点)

可选择付款方式：  
（1）货到付款
（2）用户可以在订单成立之后选择网上支付， (如何调用三方支付平台?)

### 3.2 订单提交安全问题
订单成立需要用户填写短信验证码？  
思路：当用户提交大订单（例如500元），此时需要短信验证或者网络支付定金。当一个ip地址或一个用户多次发送订单，服务器将自动质疑该客户端的真实性。

##4. 用户反馈（可选）
当订单完成后一定时间用户将被允许填写意见反馈，服务器将会为商铺进行重新打分，同时用户将会获得相应的分数为用户评级。用户的评级可以作为一种互信，评分高的用户更容易被服务器确认。日后可以提供某些优惠措施针对高分用户。

##5.  状态发布（可选）
用户可以将订餐信息发布到相应的社交网络上晒状态。

